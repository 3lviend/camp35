  <legend>Durations</legend>
       <div class="actions">
         <a href="#" class="button add <% if(duration_kinds.length <= work_entry.work_entry_durations.length) { %> disabled  <% } %> ">+</a>
       </div>
       <% $.each(work_entry.work_entry_durations, function(i, duration) { %>
       <div class="single-duration">
         <a href="#" class="button alert remove <% if(i == 0 ) { %> disabled  <% } %> ">-</a>
       <% hours = parseInt(duration.duration.split(":")[0]); %>
       <% minutes = parseInt(duration.duration.split(":")[1]); %>
       <div class="input interval optional">
           <label class="interval optional control-label" 
                  for="work_entry_work_entry_durations_attributes_0_duration">Duration</label>      
         <div class="row collapse complex-input single-select">
           <div class="five mobile-three columns">
             <select class="hour-select" name="durations[0][hours]">
               <% $.each(new Array(25), function(i, v) { %>
                 <option <% if(i == hours){ %> <%= "selected='selected'" %> <% }; %> value="<%= i %>"><%= i %></option>
               <% }); %>
             </select>
           </div>
           <div class="one mobile-one columns">
             <span class="postfix">h</span>
           </div>
           <div class="five mobile-three columns single-select">
             <select class="minutes-select" name="durations[0][minutes]">
               <% $.each(new Array(4), function(i, v) { %>
                 <option <% if(i == minutes){ %> <%= "selected='selected'" %> <% }; %> value="<%= i*15 %>"><%= i*15 %></option>
               <% }); %>
             </select>
           </div>
           <div class="one mobile-one columns">
             <span class="postfix">m</span>
           </div>
         </div>
         <div class="row collapse hours-minutes">
           <% $.each(new Array(9), function(i, v) { %>
             <a href="#" data-hour="<%= i %>" 
                class="button hour-button <% if(i == hours){ %> <%= "selected" %> <% }; %>">
                <%= i %>
            </a>
           <% }); %>
           <span>&nbsp;</span>         
           <% $.each(new Array(4), function(i, v) { %>
             <a href="#" data-minute="<%= i*15 %>" 
                class="button minute-button <% if(i*15 == minutes){ %> <%= "selected" %> <% }; %>">
                <%= i*15 %>
            </a>
           <% }); %>
         </div>
       </div>
       <div class="input select optional">
         <select class="select optional kind_code_select" data-index="<%= i %>" data-placeholder="Select kind" 
            id="work_entry_work_entry_durations_attributes_0_kind_code" 
            name="work_entry[work_entry_durations_attributes][0][kind_code]">
            <% kinds = _.reject(duration_kinds, function(d){ return _.contains(_.pluck(work_entry.work_entry_durations, 'kind_code'), d.code); }); %>
            <% thisEl = _.find(duration_kinds, function(d){ return d.code == duration.kind_code; }); %>
            <% if(thisEl !== undefined){ kinds.push(thisEl); } %>
            <% $.each(kinds, function(i, kind) { %>
              <option <% if(kind.code == duration.kind_code) { %> selected='selected' <% } %> value="<%= kind.code %>"><%= kind.display_label %></option>
            <% }); %>
         </select>
       </div>
       </div>
     <% }); %>
